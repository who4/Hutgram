<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Social Platform</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;background:#fafafa}

    /* Login Page */
    .login-container{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
    .login-box{background:white;padding:40px;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,0.2);max-width:520px;width:92%}
    .login-title{font-size:28px;font-weight:600;margin-bottom:10px;text-align:center}
    .muted{color:#8e8e8e;text-align:center;margin:10px 0 20px}
    .field{margin-top:12px}
    .field label{display:block;font-size:12px;color:#555;margin-bottom:6px}
    .field input,.field textarea,.field select{width:100%;padding:10px;border:1px solid #dbdbdb;border-radius:8px;font-size:14px}
    .field textarea{resize:vertical;min-height:70px}
    .category-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:12px 0}
    .category-chip{padding:10px 12px;border:2px solid #dbdbdb;border-radius:20px;font-size:13px;text-align:center;cursor:pointer;transition:.2s}
    .category-chip:hover{border-color:#667eea;background:#f8f9ff}
    .category-chip.selected{background:#667eea;color:white;border-color:#667eea}
    .login-btn{width:100%;padding:12px;background:#667eea;color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;margin-top:14px}
    .login-btn:hover{background:#5568d3}

    /* Main App */
    .app-container{display:none}

    header{background:white;border-bottom:1px solid #dbdbdb;padding:15px 0;position:sticky;top:0;z-index:100}
    .header-content{max-width:935px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;gap:16px}
    .logo{font-size:24px;font-weight:600}
    .pill{font-size:13px;color:#555;background:#f1f1f1;border:1px solid #e3e3e3;border-radius:999px;padding:7px 10px}

    .search-box{flex:1;max-width:340px;position:relative}
    .search-input{width:100%;padding:8px 35px 8px 15px;border:1px solid #dbdbdb;border-radius:8px;font-size:14px}
    .search-icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:18px;color:#8e8e8e}
    .search-results{position:absolute;top:100%;left:0;right:0;background:white;border:1px solid #dbdbdb;border-radius:8px;margin-top:5px;max-height:300px;overflow-y:auto;display:none;box-shadow:0 4px 12px rgba(0,0,0,.1)}
    .search-results.show{display:block}
    .search-result-item{padding:10px 15px;display:flex;align-items:center;gap:10px;cursor:pointer}
    .search-result-item:hover{background:#fafafa}
    .search-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);display:flex;align-items:center;justify-content:center;color:white;font-weight:bold}

    .container{max-width:935px;margin:0 auto;padding:0 20px}

    .tabs{display:flex;gap:20px;margin:30px 0;border-bottom:1px solid #dbdbdb}
    .tab{padding:15px 20px;font-size:16px;font-weight:600;color:#8e8e8e;cursor:pointer;border-bottom:2px solid transparent;transition:.2s}
    .tab:hover{color:#262626}
    .tab.active{color:#262626;border-bottom-color:#262626}
    .tab-content{display:none}
    .tab-content.active{display:block}

    .profile-section{background:white;border:1px solid #dbdbdb;border-radius:8px;padding:26px;margin-bottom:22px}
    .profile-header{display:flex;gap:40px;align-items:center}
    .avatar{width:140px;height:140px;border-radius:50%;background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);display:flex;align-items:center;justify-content:center;font-size:56px;color:white;font-weight:bold}
    .avatar img{width:134px;height:134px;border-radius:50%;border:3px solid white;object-fit:cover}
    .profile-info{flex:1}
    .profile-toprow{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
    .profile-username{font-size:28px;font-weight:300}
    .profile-stats{display:flex;gap:26px;margin:12px 0 8px}
    .stat{cursor:pointer}
    .stat strong{font-weight:700}
    .profile-categories{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .category-badge{padding:5px 12px;background:#efefef;border-radius:15px;font-size:12px;color:#262626}
    .follow-btn{background:#0095f6;color:white;border:none;padding:8px 16px;border-radius:10px;font-size:14px;font-weight:700;cursor:pointer}
    .follow-btn.following{background:transparent;color:#262626;border:1px solid #dbdbdb}

    .card{background:white;border:1px solid #dbdbdb;border-radius:8px;padding:18px;margin-bottom:18px}
    .card-title{font-size:15px;font-weight:800;margin-bottom:10px}

    .posts-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;margin-bottom:40px}
    .post-card{background:white;border:1px solid #dbdbdb;border-radius:8px;overflow:hidden;transition:transform .2s}
    .post-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.1)}
    .post-image{width:100%;height:280px;background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);display:flex;align-items:center;justify-content:center;font-size:80px;color:white}
    .post-image img{width:100%;height:100%;object-fit:cover}
    .post-info{padding:15px}
    .post-actions{display:flex;gap:15px;margin-bottom:10px}
    .action-btn{background:none;border:none;font-size:22px;cursor:pointer;padding:0;transition:transform .1s;display:flex;align-items:center;gap:5px}
    .action-btn:hover{transform:scale(1.1)}
    .action-count{font-size:13px;color:#8e8e8e}
    .post-caption{color:#262626;font-size:14px;line-height:1.4;margin-bottom:8px}
    .post-categories{display:flex;flex-wrap:wrap;gap:5px;margin-top:8px}
    .post-category-tag{padding:3px 8px;background:#efefef;border-radius:10px;font-size:11px;color:#8e8e8e}

    .suggestions-box{background:white;border:1px solid #dbdbdb;border-radius:8px;padding:20px;margin-bottom:30px}
    .people-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}
    .person-card{display:flex;align-items:center;gap:12px;padding:10px;border:1px solid #dbdbdb;border-radius:8px}
    .person-card:hover{background:#fafafa}
    .person-avatar{width:44px;height:44px;border-radius:50%;background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);display:flex;align-items:center;justify-content:center;font-size:18px;color:white;font-weight:bold;cursor:pointer}
    .person-avatar img{width:100%;height:100%;border-radius:50%;object-fit:cover}
    .person-info{flex:1;cursor:pointer;min-width:0}
    .person-username{font-weight:700;font-size:14px;color:#262626}
    .person-name{font-size:12px;color:#8e8e8e}
    .empty-state{text-align:center;padding:40px 20px;color:#8e8e8e}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;align-items:center;justify-content:center;z-index:999}
    .modal{background:#fff;width:92%;max-width:420px;border-radius:12px;overflow:hidden}
    .modal-header{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid #eee}
    .modal-title{font-weight:800}
    .modal-close{border:none;background:none;font-size:18px;cursor:pointer}
    .modal-body{max-height:420px;overflow:auto;padding:8px}
    .modal-item{display:flex;gap:10px;align-items:center;padding:10px 12px;cursor:pointer}
    .modal-item:hover{background:#fafafa}
    .mini-avatar{width:38px;height:38px;border-radius:50%;background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800}
    .mini-avatar img{width:100%;height:100%;border-radius:50%;object-fit:cover}
    .mini-name{font-size:12px;color:#888}
  </style>
</head>
<body>

  <!-- Login / Create Account -->
  <div class="login-container" id="loginPage">
    <div class="login-box">
      <div class="login-title">üì∏ Social Platform</div>
      <div class="muted">Create an account (no password). Pick at least 1 category.</div>

      <div class="field">
        <label>Username (unique) *</label>
        <input id="loginUsername" placeholder="e.g. paniz.ai" />
      </div>

      <div class="field">
        <label>Name *</label>
        <input id="loginName" placeholder="e.g. Paniz" />
      </div>

      <div class="field">
        <label>Bio</label>
        <textarea id="loginBio" placeholder="Short bio..."></textarea>
      </div>

      <div class="field">
        <label>Profile picture (optional, max 8MB)</label>
        <input id="loginAvatar" type="file" accept="image/*" />
      </div>

      <div class="field" style="margin-top:16px">
        <label>Categories *</label>
        <div class="category-grid" id="categoryGrid"></div>
      </div>

      <button class="login-btn" onclick="login()">Enter</button>
      <div class="muted" style="margin-top:10px;font-size:12px">
        If you forget your username, just make a new one.
      </div>
    </div>
  </div>

  <!-- Main App -->
  <div class="app-container" id="mainApp">
    <header>
      <div class="header-content">
        <div class="logo">üì∏ Social</div>

        <div class="search-box">
          <input type="text" class="search-input" id="searchInput" placeholder="Search users..." autocomplete="off" />
          <span class="search-icon">üîç</span>
          <div class="search-results" id="searchResults"></div>
        </div>

        <div class="pill" id="whoAmI">Logged in as: @...</div>
      </div>
    </header>

    <div class="container">
      <div class="tabs">
        <div class="tab active" onclick="switchTab('home')">üè† Home</div>
        <div class="tab" onclick="switchTab('explore')">üîç Explore</div>
      </div>

      <!-- Home -->
      <div class="tab-content active" id="homeTab">

        <div class="profile-section">
          <div class="profile-header">
            <div class="avatar" id="profileAvatar">
              <span id="avatarInitial">?</span>
            </div>

            <div class="profile-info">
              <div class="profile-toprow">
                <div class="profile-username">@<span id="profileUsername"></span></div>
                <button class="follow-btn" id="profileFollowBtn" style="display:none" onclick="toggleProfileFollow()">Follow</button>
              </div>

              <div class="profile-stats">
                <div class="stat"><strong id="postsCount">0</strong> posts</div>
                <div class="stat" onclick="openFollowModal('followers')"><strong id="followersCount">0</strong> followers</div>
                <div class="stat" onclick="openFollowModal('following')"><strong id="followingCount">0</strong> following</div>
              </div>

              <div style="font-weight:700" id="profileName"></div>
              <div style="margin-top:6px;color:#444" id="profileBio"></div>

              <div class="profile-categories" id="profileCategories"></div>
            </div>
          </div>
        </div>

        <!-- Create Post -->
        <div class="card">
          <div class="card-title">Create a Post</div>
          <div class="field">
            <label>Caption *</label>
            <input id="postCaption" placeholder="Write something..." />
          </div>
          <div class="field">
            <label>Image (optional, max 8MB)</label>
            <input id="postImage" type="file" accept="image/*" />
          </div>
          <div class="field">
            <label>Category *</label>
            <select id="postCategory"></select>
          </div>
          <button class="login-btn" style="margin-top:12px" onclick="createPost()">Post</button>
        </div>

        <!-- Suggestions -->
        <div class="suggestions-box">
          <div class="card-title">Suggested for you</div>
          <div class="people-list" id="peopleList"></div>
        </div>

        <div class="card-title">Posts</div>
        <div class="posts-grid" id="postsGrid"></div>
      </div>

      <!-- Explore -->
      <div class="tab-content" id="exploreTab">
        <div class="card-title">Explore</div>
        <div class="posts-grid" id="explorePosts"></div>
      </div>
    </div>
  </div>

  <!-- Followers/Following Modal -->
  <div class="modal-backdrop" id="followModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title" id="followModalTitle">Followers</div>
        <button class="modal-close" onclick="closeFollowModal()">‚úñ</button>
      </div>
      <div class="modal-body" id="followModalBody"></div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
